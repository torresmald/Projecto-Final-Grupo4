<app-alert
  *ngIf="alertSuccess"
  [successAlertMsg]="msg"
  [successAlertTitle]="'Bienvenido'"
></app-alert>
<app-alert
  *ngIf="alertError"
  [errorAlertMsg]="'Debes Completar todos los campos'"
  [errorAlertTitle]="'Error'"
></app-alert>

<div
  *ngIf="loginForm"
  [ngClass]="{ container: !teacher, 'container right-panel-active': teacher }"
>
  <div class="form-container sign-up-container">
    <form (ngSubmit)="userLogin()" [formGroup]="loginForm" action="#">
      <h1>{{ teacher ? "Acceso Profesorado" : "Acceso Familias" }}</h1>
      <span>Introduce Email y contraseña</span>
      <input
        type="email"
        placeholder="Email"
        formControlName="email"
        required
      />

      <p
        class="errors"
        *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.errors?.['required']
"
      >
        Email requerido
      </p>

      <p
        class="errors"
        *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.errors?.['email']"
      >
        Formato de email incorrecto
      </p>

      <input
        type="password"
        placeholder="Contraseña"
        formControlName="password"
        required
      />

      <p
        class="errors"
        *ngIf="loginForm.get('password')?.dirty && loginForm.get('password')?.errors?.['required']
"
      >
        Escribe una contraseña
      </p>
      <p *ngIf="errors" class="errors">{{ errors }}</p>
      <div>
        <button>Acceder</button>
        <button type="button" (click)="router.navigate(['/home'])">
          atras
        </button>
      </div>
    </form>
  </div>

  <div class="form-container sign-in-container">
    <form (ngSubmit)="userLogin()" [formGroup]="loginForm" action="#">
      <h1>{{ teacher ? "Acceso Profesorado" : "Acceso Familias" }}</h1>
      <span>Introduce el email y la contraseña</span>
      <input
        type="email"
        placeholder="Email"
        formControlName="email"
        required
      />

      <p
        *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.errors?.['required']"
        class="errors"
      >
        Email requerido
      </p>

      <p
        *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.errors?.['email']"
        class="errors"
      >
        Formato de email incorrecto
      </p>

      <input
        type="password"
        placeholder="Contraseña"
        formControlName="password"
        required
      />

      <p
        class="errors"
        *ngIf="loginForm.get('password')?.dirty && loginForm.get('password')?.errors?.['required']
"
      >
        Escribe una contraseña
      </p>
      <p *ngIf="errors" class="errors">{{ errors }}</p>
      <div>
        <button>Acceder</button>
        <button type="button" (click)="router.navigate(['/home'])">
          atras
        </button>
      </div>
    </form>
  </div>
  <div class="overlay-container">
    <div class="overlay">
      <div class="overlay-panel overlay-left">
        <h1>Bienvenido!</h1>
        <p>Eres tutor o un familiar?</p>
        <button (click)="isFamily()" class="ghost" id="signIn">
          Acceso Familias
        </button>
      </div>
      <div class="overlay-panel overlay-right">
        <h1>Bienvenido</h1>
        <p>Perteneces al profesorado?</p>
        <button (click)="isFamily()" class="ghost" id="signUp">
          Acceso Profesorado
        </button>
      </div>
    </div>
  </div>
</div>
